<!DOCTYPE html>
<html>
<head>
    <title>模型类属性</title>
    <#include "/header.html">
</head>
<div>
<div id="bg">
<div id="top">
    <table id="top_table">
        <tr>
            <td id="top_td_1">
                <div id="top_logo">
                    <img id="logo" src="../../statics/images/modelbusiness/logo.png">
                </div>
                <div id="menu_top1">
                    <div id="home" class="menu_top">
<!--                        <input type="image"  src="../../statics/images/modelbusiness/close.png" />-->
<!--                        <span id="home_content" class="content">首页</span>-->
                    </div>
                    <div id="modelequip" class="menu_top">
<!--                        <input type="image"  src="../../statics/images/modelbusiness/close.png" />-->
<!--                        <span id="modelequip_content" class="content">设备建模</span>-->
                    </div>
                </div>
            </td>
            <td id="top_td_2">
                <div id="d1"></div>
                <div id="menu_top2">
                    <div id="business" class="select_menu">
<!--                        <div class="pic">-->
<!--                        <input class="pic_icon" type="image"  src="../../statics/images/modelbusiness/close.png" />-->
<!--                        </div>-->
<!--                        <div class="text">-->
<!--                        <span id="business_content" class="content">业务建模</span>-->
<!--                        </div>-->
                    </div>
                    <div id="modelalgo" class="menu_top">
<!--                        <input type="image"  src="../../statics/images/modelbusiness/close.png" />-->
<!--                        <span id="modelalgo_content" class="content">算法建模</span>-->
                    </div>
                </div>
            </td>
            <td id="top_td_3">
                <div id="user">
                    <table id="user_table">
                        <tr>
                            <td style="width: 50%">
                                <img  src="../../statics/images/modelbusiness/home.png" />
                                <a href="home.html">返回首页</a>
                            </td>
                            <td style="width:50%">
                                <img src="../../statics/images/modelbusiness/icon-01.png" />
                                <a href="home.html">admin</a>
                                <img src="../../statics/images/modelbusiness/pull.png" />
                            </td>
                        </tr>
                    </table>
                </div>
            </td>
        </tr>
    </table>
</div>
<div id="content">
<div id="rrapp" v-cloak>
    <div v-show="showList">
        <table style="width: 100%;">
             <tr>
                   <td id="menu"  width="20%" style="vertical-align:top" ><!-- 选择父类-->
                       <div id="classLayerMain" style="padding:10px;">
                        <ul id="classTreeMain" class="ztree"></ul>
                       </div>
                   </td>
                   <td width="80%"  >
                        <div  class="layui-tab layui-tab-card">
                            <ul class="layui-tab-title">
                                <li class="layui-this"><span>指标</span></li>
                                <li ><span>组态</span></li>
                                <li ><span>采集</span></li>
                                <li ><span>算法</span></li>
                            </ul>
                        <div class="layui-tab-content" style="height: 500px; width: 100%">
                            <div class="layui-tab-item layui-show">
                                <form >

                                    <div class="div-inline">名称</div>
                                    <div class="div-inline">
                                        <input type="hidden"  v-model="sifanyObj.id"  readonly="readonly" />
                                        <input type="text" class="input_data"  v-model="sifanyObj.name"   placeholder="名称"/>
                                    </div>

                                    <div class="div-inline">编码</div>
                                    <div class="div-inline">
                                        <input type="text" class="input_data"   v-model="sifanyObj.code"  placeholder="编码"/>
                                    </div>
                                    <div class="div-inline">图标</div>
                                    <div class="div-inline" style="display: none">
                                        <input type="text"  v-model="sifanyObj.icons"  @click="menuTree" placeholder="图标"/>
                                    </div>
                                    <div  class="div-inline">
                                        <img style="height:50px;width:50px;"  @click="menuTree" v-bind:src="sifanyObj.irconurl">
                                    </div>
                                    <div class="div-inline">备注</div>
                                    <div class="div-inline">
                                        <input type="text" class="input_data"   v-model="sifanyObj.remark"  placeholder="备注"/>
                                    </div>
                                </form>

                            <div class="grid-btn">
                                 <#if shiro.hasPermission("sys:sifanyobjattr:save")>
                                     <a class="btn btn-primary" @click="add"><i class="fa fa-plus"></i>&nbsp;新增</a>
                                 </#if>
                                 <#if shiro.hasPermission("sys:sifanyobjattr:update")>
                                     <a class="btn btn-primary" @click="update"><i class="fa fa-pencil-square-o"></i>&nbsp;修改</a>
                                 </#if>
                                 <#if shiro.hasPermission("sys:sifanyobjattr:delete")>
                                    <a class="btn btn-primary" @click="del"><i class="fa fa-trash-o"></i>&nbsp;删除</a>
                                 </#if>
                                 <#if shiro.hasPermission("sys:sifanyobjattr:save")>
                                    <a class="btn btn-primary" @click="addclass"><i class="fa fa-plus"></i>&nbsp;保存</a>
                                 </#if>
                            </div>
                            <table id="jqGrid"></table>
                            <div id="jqGridPager"></div>

                        </div>
                        <div class="layui-tab-item">
                            <#if shiro.hasPermission("sys:sifanyobjattr:save")>
                                <a class="btn btn-primary" @click="configmenu"><i class="fa fa-plus"></i>&nbsp;编辑</a>
                            </#if>
                            <div  style="display: none">
                                <input type="text"  v-model="sifanyObj.id"  placeholder="id"/>
                                <input type="text"  v-model="sifanyObj.modelId"  placeholder="图标"/>
                            </div>
                        <div>
                            <iframe src="${request.contextPath}/statics/gojs/samples/model_show.html"
                                  width="900px" id="config-swan-svg0" height="400px"></iframe>
                        </div>
                   </div>
                   <div class="layui-tab-item">
                        <div style="float:left ;width:500px;">
                            <table id="jqGridgather"></table>
                            <div id="jqGridPagergather"></div>
                        </div>
                        <div style="margin-left:60%;">
                            <form >
                                <table class="param_update">
                                    <tr>
                                        <td>
                                            <div class="div-inline">名称</div>
                                            <div class="div-inline">
                                                <input type="hidden"  v-model="sifanyObjAttrGather.id"  readonly="readonly" />
                                                <input type="text"  v-model="sifanyObjAttrGather.name"  style="width:110px;height:26px;" readonly="readonly" placeholder="名称"/>
                                            </div>
                                        </td>
                                        <td>
                                            <div class="div-inline">编码</div>
                                            <div class="div-inline">
                                                <input type="text"  v-model="sifanyObjAttrGather.code" style="width:110px;height:26px;" readonly="readonly" placeholder="编码"/>
                                            </div>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>
                                            <div class="div-inline">单位</div>
                                            <div class="div-inline" >

                                                <select  v-model="sifanyObjAttrGather.unitId" readonly="readonly" style="width:110px;height:26px;">
                                                    <option value="0">Kg</option>
                                                    <option value="1">N</option>
                                                    <option value="2">Pa</option>
                                                </select>
                                            </div>
                                        </td>
                                        <td>
                                            <div class="div-inline">类型</div>
                                            <div  class="div-inline">

                                                <select  v-model="sifanyObjAttrGather.attrstypeId" readonly="readonly" style="width:110px;height:26px;">
                                                    <option value="0">输入类</option>
                                                    <option value="1">采集类</option>
                                                    <option value="2">计算类</option>
                                                </select>
                                            </div>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td colspan="2">
                                            <div class="div-inline">备注</div>
                                            <div class="div-inline">
                                                <input type="text"  v-model="sifanyObjAttrGather.remark" readonly="readonly" placeholder="备注" style="width:160px;height:26px;"/>
                                            </div>
                                        </td>

                                    </tr>
                                </table>
                            </form>
                        </div>
                    </div>
                    <div class="layui-tab-item">
                        <div style="float:left ;width:500px;">
                            <table id="jqGridget"></table>
                            <div id="jqGridPagerget"></div>
                        </div>
                        <div style="margin-left:60%; ">
                            <form  >
                                <table class="param_update">
                                    <tr>
                                        <td>
                                            <div class="div-inline">名称</div>
                                            <div class="div-inline">
                                                <input type="hidden"  v-model="sifanyObjAttr.id"  readonly="readonly" />
                                                <input type="text"  v-model="sifanyObjAttr.name"  style="width:110px;height:26px;" readonly="readonly" placeholder="名称"/>
                                            </div>
                                        </td>
                                        <td>
                                            <div class="div-inline">编码</div>
                                            <div class="div-inline">
                                                <input type="text"  v-model="sifanyObjAttr.code" style="width:110px;height:26px;" readonly="readonly" placeholder="编码"/>
                                            </div>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>
                                            <div class="div-inline">单位</div>
                                            <div class="div-inline" >

                                                <select  v-model="sifanyObjAttr.unitId" readonly="readonly" style="width:110px;height:26px;">
                                                    <option value="0">Kg</option>
                                                    <option value="1">N</option>
                                                    <option value="2">Pa</option>
                                                </select>
                                            </div>
                                        </td>
                                        <td>
                                            <div class="div-inline">类型</div>
                                            <div  class="div-inline">

                                                <select  v-model="sifanyObjAttr.attrstypeId" readonly="readonly" style="width:110px;height:26px;">
                                                    <option value="0">输入类</option>
                                                    <option value="1">采集类</option>
                                                    <option value="2">计算类</option>
                                                </select>
                                            </div>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td colspan="2">
                                            <div class="div-inline">备注</div>
                                            <div class="div-inline">
                                                <input type="text"  v-model="sifanyObjAttr.remark" readonly="readonly" placeholder="备注" style="width:160px;height:26px;"/>
                                            </div>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td colspan="2">
                                                <img style="height:250px;width:300px;" @click="editProject" src="../../statics/1234.png">
                                        </td>
                                    </tr>
                                </table>
                            </form>

                        </div>
                    </div>
                </div>
            </div>



        </td>

    </tr>
</table>
</div>

<div v-show="!showList" class="panel panel-default" style="width: 500px; text-align: center">

    <div class="panel-heading"  style="font-size: 20px">{{title}}</div>
    <form class="form-horizontal" style="text-align: center">
        <table style="width: 60%">
            <tr>
                <td>
                    <div class="form-group">
                        <div class="col-sm-2 control-label">设备</div>
                        <div class="col-sm-10">
                            <input type="text" class="form-control" style="cursor:pointer;" v-model="sifanyObjAttr.objId" @click="classTree" readonly="readonly" placeholder="所属实例"/>
                        </div>
                    </div>
                </td>
            </tr>
            <tr>
                <td>
                    <div class="form-group">
                        <div class="col-sm-2 control-label">属性名</div>
                        <div class="col-sm-10">
                            <input type="text" class="form-control" v-model="sifanyObjAttr.name" placeholder="属性名"/>
                        </div>
                    </div>
                </td>
            </tr>
            <tr>
                <td>
                    <div class="form-group" style="display:none">
                        <div class="col-sm-2 control-label">类型id</div>
                        <div class="col-sm-10">
                            <input type="text" class="form-control" style="cursor:pointer;" v-model="sifanyObjAttr.typeId" @click="typeTree" readonly="readonly" placeholder="属性类型"/>
                        </div>
                    </div>
                </td>
            </tr>
            <tr>
                <td>
                    <div class="form-group">
                        <div class="col-sm-2 control-label">数据类型</div>
                        <div class="col-sm-10">
                            <select class="form-control" v-model="sifanyObjAttr.dataType">
                                <option value="">&#45;&#45;请选择&#45;&#45;</option>
                                <option value="1">int</option>
                                <option value="2">double</option>
                            </select>
                        </div>
                    </div>
                </td>
            </tr>
            <tr>
                <td>
                    <div class="form-group">
                        <div class="col-sm-2 control-label">单位</div>
                        <div class="col-sm-10">
                            <select class="form-control" v-model="sifanyObjAttr.unitId">
                                <option value="0">Kg</option>
                                <option value="1">N</option>
                                <option value="2">Pa</option>
                            </select>
                        </div>
                    </div>
                </td>
            </tr>
            <tr>
                <td>
                    <div class="form-group">
                        <div class="col-sm-2 control-label">指标种类</div>
                        <div class="col-sm-10">
                            <select class="form-control" v-model="sifanyObjAttr.attrstypeId">
                                <option value="0">输入类</option>
                                <option value="1">采集类</option>
                                <option value="2">计算类</option>
                            </select>
                        </div>
                    </div>
                </td>
            </tr>
            <tr>
                <td>
                    <div class="form-group">
                        <div class="col-sm-2 control-label"></div>
                        <input type="button" class="btn btn-primary" id="btnSaveOrUpdate" data-loading-text="保存中..." @click="saveOrUpdate" value="确定"/>
                        &nbsp;&nbsp;<input type="button" class="btn btn-warning" id="cancel" @click="reload" value="返回"/>
                    </div>
                </td>
            </tr>
        </table>
    </form>

</div>

</div>


<div class="dropdown open" id="treeContextMenu" style="display: none;position: absolute">
    <ul class="dropdown-menu">

        <li><a href="javascript:;" @click="addHoverDom" id="toUpdateBtn">增加子节点</a></li>
        <li><a href="javascript:;" @click="deleteDom" id="deleteBtn" data-target="#confirmDialog" data-toggle="modal">删除</a></li>
        <li><a href="#" id="swan-cancel" >取消</a></li>
    </ul>
</div>

<!-- 选择所属类-->
<div id="classLayer" style="display: none;padding:10px;">
    <ul id="classTree" class="ztree"></ul>
</div>
<!-- 选择父类-->
<div id="classLayerDev" style="display: none;padding:10px;">
    <ul id="classTreeDev" class="ztree"></ul>
</div>
<!-- 选择属性-->
<div id="typeLayer" style="display: none;padding:10px;">
    <ul id="typeTree" class="ztree1"></ul>
</div>
<div id="menuLayer" style="display: none;padding:10px;">

    <iframe src="${request.contextPath}/statics/svgedit-5.0.0/editor/svg-editor.html?extensions="
            width="1000px" id="swan-svg" height="1000px"></iframe>
</div>
<div id="menumapLayer" style="display: none;padding:10px;">

    <iframe src="${request.contextPath}/statics/gojs/samples/productionProcess.html"
            width="1000px" id="config-swan-svg" height="800px"></iframe>
</div>

<div id="editProject" style="display: none;padding:10px;">

    <iframe src="http://localhost:8089/home/project_iframe"
            width="1000px" id="editProject-info" height="800px"></iframe>
</div>
</div>
</div>
<script src="${request.contextPath}/statics/js/modules/sys/modelbus.js?_${.now?long}"></script>
<script src="${request.contextPath}/statics/plugins/layui/lay/dest/layui.all.js"></script>
<link rel="stylesheet" href="${request.contextPath}/statics/plugins/layui/css/layui.css">
<link rel="stylesheet" href="${request.contextPath}/statics/css/modelbusiness.css">

</body>
</html>
